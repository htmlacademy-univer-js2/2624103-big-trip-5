{"version":3,"file":"js/main.0c0ad0e9978962250d06.js","mappings":"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","sources":["webpack://big-trip/./src/framework/view/abstract-view.css","webpack://big-trip/./node_modules/css-loader/dist/runtime/api.js","webpack://big-trip/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://big-trip/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://big-trip/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://big-trip/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://big-trip/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://big-trip/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://big-trip/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://big-trip/webpack/bootstrap","webpack://big-trip/webpack/runtime/compat get default export","webpack://big-trip/webpack/runtime/define property getters","webpack://big-trip/webpack/runtime/hasOwnProperty shorthand","webpack://big-trip/webpack/runtime/nonce","webpack://big-trip/./src/framework/view/abstract-view.css?dfa6","webpack://big-trip/./src/framework/view/abstract-view.js","webpack://big-trip/./src/framework/render.js","webpack://big-trip/./src/view/filters-view.js","webpack://big-trip/./src/view/sort-view.js","webpack://big-trip/./src/framework/view/abstract-stateful-view.js","webpack://big-trip/./src/const.js","webpack://big-trip/./src/utils/date.js","webpack://big-trip/./src/view/event-edit-view.js","webpack://big-trip/./src/view/trip-info-view.js","webpack://big-trip/./src/utils/trip.js","webpack://big-trip/./src/view/new-event-button-view.js","webpack://big-trip/./src/view/empty-list-view.js","webpack://big-trip/./src/view/event-view.js","webpack://big-trip/./src/render.js","webpack://big-trip/./src/presenter/event-presenter.js","webpack://big-trip/./src/presenter/trip-presenter.js","webpack://big-trip/./src/model/events-model.js","webpack://big-trip/./src/model/destinations-model.js","webpack://big-trip/./src/model/offers-model.js","webpack://big-trip/./src/mock/offers.js","webpack://big-trip/./src/mock/index.js","webpack://big-trip/./src/mock/destinations.js","webpack://big-trip/./src/mock/events.js","webpack://big-trip/./src/main.js"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".shake {\\n  animation: shake 0.6s;\\n  position: relative;\\n  z-index: 10;\\n}\\n\\n@keyframes shake {\\n  0%,\\n  100% {\\n    transform: translateX(0);\\n  }\\n\\n  10%,\\n  30%,\\n  50%,\\n  70%,\\n  90% {\\n    transform: translateX(-5px);\\n  }\\n\\n  20%,\\n  40%,\\n  60%,\\n  80% {\\n    transform: translateX(5px);\\n  }\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/framework/view/abstract-view.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,qBAAqB;EACrB,kBAAkB;EAClB,WAAW;AACb;;AAEA;EACE;;IAEE,wBAAwB;EAC1B;;EAEA;;;;;IAKE,2BAA2B;EAC7B;;EAEA;;;;IAIE,0BAA0B;EAC5B;AACF\",\"sourcesContent\":[\".shake {\\n  animation: shake 0.6s;\\n  position: relative;\\n  z-index: 10;\\n}\\n\\n@keyframes shake {\\n  0%,\\n  100% {\\n    transform: translateX(0);\\n  }\\n\\n  10%,\\n  30%,\\n  50%,\\n  70%,\\n  90% {\\n    transform: translateX(-5px);\\n  }\\n\\n  20%,\\n  40%,\\n  60%,\\n  80% {\\n    transform: translateX(5px);\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.nc = undefined;","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!./abstract-view.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!./abstract-view.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import {createElement} from '../render.js';\nimport './abstract-view.css';\n\n/** @const {string} Класс, реализующий эффект \"покачивания головой\" */\nconst SHAKE_CLASS_NAME = 'shake';\n\n/** @const {number} Время анимации в миллисекундах */\nconst SHAKE_ANIMATION_TIMEOUT = 600;\n\n/**\n * Абстрактный класс представления\n */\nexport default class AbstractView {\n  /** @type {HTMLElement|null} Элемент представления */\n  #element = null;\n\n  constructor() {\n    if (new.target === AbstractView) {\n      throw new Error('Can\\'t instantiate AbstractView, only concrete one.');\n    }\n  }\n\n  /**\n   * Геттер для получения элемента\n   * @returns {HTMLElement} Элемент представления\n   */\n  get element() {\n    if (!this.#element) {\n      this.#element = createElement(this.template);\n    }\n\n    return this.#element;\n  }\n\n  /**\n   * Геттер для получения разметки элемента\n   * @abstract\n   * @returns {string} Разметка элемента в виде строки\n   */\n  get template() {\n    throw new Error('Abstract method not implemented: get template');\n  }\n\n  /** Метод для удаления элемента */\n  removeElement() {\n    this.#element = null;\n  }\n\n  /**\n   * Метод, реализующий эффект \"покачивания головой\"\n   * @param {shakeCallback} [callback] Функция, которая будет вызвана после завершения анимации\n   */\n  shake(callback) {\n    this.element.classList.add(SHAKE_CLASS_NAME);\n    setTimeout(() => {\n      this.element.classList.remove(SHAKE_CLASS_NAME);\n      callback?.();\n    }, SHAKE_ANIMATION_TIMEOUT);\n  }\n}\n\n/**\n * Функция, которая будет вызвана методом shake после завершения анимации\n * @callback shakeCallback\n */\n","import AbstractView from './view/abstract-view.js';\n\n/** @enum {string} Перечисление возможных позиций для отрисовки */\nconst RenderPosition = {\n  BEFOREBEGIN: 'beforebegin',\n  AFTERBEGIN: 'afterbegin',\n  BEFOREEND: 'beforeend',\n  AFTEREND: 'afterend',\n};\n\n/**\n * Функция для создания элемента на основе разметки\n * @param {string} template Разметка в виде строки\n * @returns {HTMLElement} Созданный элемент\n */\nfunction createElement(template) {\n  const newElement = document.createElement('div');\n  newElement.innerHTML = template;\n\n  return newElement.firstElementChild;\n}\n\n/**\n * Функция для отрисовки элемента\n * @param {AbstractView} component Компонент, который должен был отрисован\n * @param {HTMLElement} container Элемент в котором будет отрисован компонент\n * @param {string} place Позиция компонента относительно контейнера. По умолчанию - `beforeend`\n */\nfunction render(component, container, place = RenderPosition.BEFOREEND) {\n  if (!(component instanceof AbstractView)) {\n    throw new Error('Can render only components');\n  }\n\n  if (container === null) {\n    throw new Error('Container element doesn\\'t exist');\n  }\n\n  container.insertAdjacentElement(place, component.element);\n}\n\n/**\n * Функция для замены одного компонента на другой\n * @param {AbstractView} newComponent Компонент, который нужно показать\n * @param {AbstractView} oldComponent Компонент, который нужно скрыть\n */\nfunction replace(newComponent, oldComponent) {\n  if (!(newComponent instanceof AbstractView && oldComponent instanceof AbstractView)) {\n    throw new Error('Can replace only components');\n  }\n\n  const newElement = newComponent.element;\n  const oldElement = oldComponent.element;\n\n  const parent = oldElement.parentElement;\n\n  if (parent === null) {\n    throw new Error('Parent element doesn\\'t exist');\n  }\n\n  parent.replaceChild(newElement, oldElement);\n}\n\n/**\n * Функция для удаления компонента\n * @param {AbstractView} component Компонент, который нужно удалить\n */\nfunction remove(component) {\n  if (component === null) {\n    return;\n  }\n\n  if (!(component instanceof AbstractView)) {\n    throw new Error('Can remove only components');\n  }\n\n  component.element.remove();\n  component.removeElement();\n}\n\nexport {RenderPosition, createElement, render, replace, remove};\n","import AbstractView from '../framework/view/abstract-view.js';\n\nexport default class FiltersView extends AbstractView {\n  constructor(filters, currentFilter) {\n    super();\n    this._filters = filters;\n    this._currentFilter = currentFilter;\n  }\n\n  get template() {\n    return `\n      <form class=\"trip-filters\" action=\"#\" method=\"get\">\n        ${this._filters.map((filter) => `\n          <div class=\"trip-filters__filter\">\n            <input \n              id=\"filter-${filter.type}\" \n              class=\"trip-filters__filter-input visually-hidden\" \n              type=\"radio\" \n              name=\"trip-filter\" \n              value=\"${filter.type}\"\n              ${filter.type === this._currentFilter ? 'checked' : ''}\n              ${filter.count === 0 ? 'disabled' : ''}\n            >\n            <label class=\"trip-filters__filter-label\" for=\"filter-${filter.type}\">\n              ${filter.name} ${filter.count > 0 ? `(${filter.count})` : ''}\n            </label>\n          </div>\n        `).join('')}\n      </form>\n    `;\n  }\n}\n\n","import AbstractView from '../framework/view/abstract-view.js';\n\nexport default class SortView extends AbstractView {\n  constructor(currentSortType) {\n    super();\n    this._currentSortType = currentSortType;\n    this._callback = {};\n  }\n\n  get template() {\n    return `\n      <form class=\"trip-events__trip-sort trip-sort\" action=\"#\" method=\"get\">\n        ${Object.entries(SortType).map(([name, type]) => `\n          <div class=\"trip-sort__item trip-sort__item--${type}\">\n            <input \n              id=\"sort-${type}\" \n              class=\"trip-sort__input visually-hidden\" \n              type=\"radio\" \n              name=\"trip-sort\" \n              value=\"${type}\"\n              ${this._currentSortType === type ? 'checked' : ''}\n              data-sort-type=\"${type}\"\n            >\n            <label class=\"trip-sort__btn\" for=\"sort-${type}\">${name}</label>\n          </div>\n        `).join('')}\n      </form>\n    `;\n  }\n\n  setSortTypeChangeHandler(callback) {\n    this._callback.sortTypeChange = callback;\n    this.element.addEventListener('click', this.#sortTypeChangeHandler);\n  }\n\n  #sortTypeChangeHandler = (evt) => {\n    if (evt.target.tagName !== 'INPUT') {\n      return;\n    }\n    evt.preventDefault();\n    const sortType = evt.target.dataset.sortType;\n    this._callback.sortTypeChange(sortType);\n  };\n}\n\nconst SortType = {\n  DAY: 'day',\n  TIME: 'time',\n  PRICE: 'price'\n};\n","import AbstractView from './abstract-view.js';\n\n/**\n * Абстрактный класс представления с состоянием\n */\nexport default class AbstractStatefulView extends AbstractView {\n  /** @type {Object} Объект состояния */\n  _state = {};\n\n  /**\n   * Метод для обновления состояния и перерисовки элемента\n   * @param {Object} update Объект с обновлённой частью состояния\n   */\n  updateElement(update) {\n    if (!update) {\n      return;\n    }\n\n    this._setState(update);\n\n    this.#rerenderElement();\n  }\n\n  /**\n   * Метод для восстановления обработчиков после перерисовки элемента\n   * @abstract\n   */\n  _restoreHandlers() {\n    throw new Error('Abstract method not implemented: restoreHandlers');\n  }\n\n  /**\n   * Метод для обновления состояния\n   * @param {Object} update Объект с обновлённой частью состояния\n   */\n  _setState(update) {\n    this._state = structuredClone({...this._state, ...update});\n  }\n\n  /** Метод для перерисовки элемента */\n  #rerenderElement() {\n    const prevElement = this.element;\n    const parent = prevElement.parentElement;\n    this.removeElement();\n\n    const newElement = this.element;\n\n    parent.replaceChild(newElement, prevElement);\n\n    this._restoreHandlers();\n  }\n}\n","export const EVENT_TYPES = [\n  'taxi', 'bus', 'train', 'ship',\n  'drive', 'flight', 'check-in',\n  'sightseeing', 'restaurant'\n];\n\nexport const DESTINATION_NAMES = [\n  'Amsterdam', 'Chamonix', 'Geneva',\n  'Paris', 'Berlin', 'Rome'\n];\n\nexport const DEFAULT_EVENT = {\n  type: 'flight',\n  destination: 'geneva',\n  dateFrom: new Date(),\n  dateTo: new Date(Date.now() + 3600000),\n  basePrice: 100,\n  offers: [1, 2],\n  isFavorite: false\n};\n","const parseDate = (dateInput) => {\n  if (dateInput instanceof Date) {\n    return isNaN(dateInput.getTime()) ? null : dateInput;\n  }\n  const date = new Date(dateInput);\n  return isNaN(date.getTime()) ? null : date;\n};\n\nexport const formatDate = (dateInput) => {\n  const date = parseDate(dateInput);\n  if (!date) {\n    console.error('Invalid date input:', dateInput);\n    return 'N/A';\n  }\n\n  return date.toLocaleDateString('en-US', {\n    month: 'short',\n    day: 'numeric'\n  });\n};\n\nexport const formatTime = (dateInput) => {\n  const date = parseDate(dateInput);\n  if (!date) {\n    console.error('Invalid date input:', dateInput);\n    return 'N/A';\n  }\n\n  return date.toLocaleTimeString('en-US', {\n    hour: '2-digit',\n    minute: '2-digit'\n  });\n};\n\nexport const calculateDuration = (dateFromInput, dateToInput) => {\n  const dateFrom = parseDate(dateFromInput);\n  const dateTo = parseDate(dateToInput);\n\n  if (!dateFrom || !dateTo) {\n    console.error('Invalid dates:', { dateFromInput, dateToInput });\n    return 'N/A';\n  }\n\n  const diff = dateTo - dateFrom;\n\n  const days = Math.floor(diff / (1000 * 60 * 60 * 24));\n  const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n  const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\n\n  if (days > 0) {\n    return `${days}D ${hours}H ${minutes}M`;\n  }\n  if (hours > 0) {\n    return `${hours}H ${minutes}M`;\n  }\n  return `${minutes}M`;\n};\nexport const generateRandomDate = () => {\n  const now = new Date();\n  const pastDate = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);\n  const futureDate = new Date(now.getTime() + 30 * 24 * 60 * 60 * 1000);\n  return new Date(pastDate.getTime() + Math.random() * (futureDate - pastDate));\n};\n\nexport const formatDateRange = (dateFrom, dateTo) => {\n  try {\n    const start = new Date(dateFrom);\n    const end = new Date(dateTo);\n\n    if (isNaN(start.getTime())) {\n      throw new Error('Invalid start date');\n    }\n    if (isNaN(end.getTime())) {\n      throw new Error('Invalid end date');\n    }\n\n    const startStr = formatDate(start);\n    const endStr = formatDate(end);\n\n    return startStr === endStr\n      ? `${startStr}, ${formatTime(start)} – ${formatTime(end)}`\n      : `${startStr} – ${endStr}`;\n  } catch (error) {\n    console.error('Error formatting date range:', error);\n    return 'N/A';\n  }\n};\n","import AbstractStatefulView from '../framework/view/abstract-stateful-view';\nimport { EVENT_TYPES, DEFAULT_EVENT } from '../const';\nimport { formatDate, formatTime } from '../utils/date';\n\nconst FormError = {\n  DESTINATION: 'Please select a valid destination from the list',\n  PRICE: 'Price must be a positive number',\n  DATES: 'End date must be after start date'\n};\n\nexport default class EventEditView extends AbstractStatefulView {\n  constructor(event = DEFAULT_EVENT, destinationsModel, offersModel) {\n    super();\n    this._state = EventEditView.parseEventToState(event);\n    this._destinationsModel = destinationsModel;\n    this._offersModel = offersModel;\n    this._callback = {\n      submit: () => {},\n      close: () => {},\n      delete: () => {}\n    };\n\n    this.#setHandlers();\n  }\n  \n\n  static parseEventToState(event) {\n    return {\n      ...event,\n      isDisabled: false,\n      isSaving: false,\n      isDeleting: false\n    };\n  }\n\n  static parseStateToEvent(state) {\n    const event = {...state};\n    delete event.isDisabled;\n    delete event.isSaving;\n    delete event.isDeleting;\n    return event;\n  }\n\n  get template() {\n    const {type, destination, dateFrom, dateTo, basePrice, offers} = this._state;\n    const destinationData = this._destinationsModel.getDestinationById(destination);\n    const typeOffers = this._offersModel.getOffersByType(type);\n\n    return `\n      <li class=\"trip-events__item\">\n        <form class=\"event event--edit\" action=\"#\" method=\"post\">\n          <header class=\"event__header\">\n            <!-- Поле выбора типа -->\n            <div class=\"event__type-wrapper\">\n              <label class=\"event__type event__type-btn\" for=\"event-type-toggle\">\n                <span class=\"visually-hidden\">Choose event type</span>\n                <img class=\"event__type-icon\" width=\"17\" height=\"17\" src=\"img/icons/${type}.png\" alt=\"Event type icon\">\n              </label>\n              <input class=\"event__type-toggle visually-hidden\" id=\"event-type-toggle\" type=\"checkbox\">\n              <div class=\"event__type-list\">\n                <fieldset class=\"event__type-group\">\n                  <legend class=\"visually-hidden\">Event type</legend>\n                  ${EVENT_TYPES.map((eventType) => `\n                    <div class=\"event__type-item\">\n                      <input id=\"event-type-${eventType}\" class=\"event__type-input visually-hidden\" \n                        type=\"radio\" name=\"event-type\" value=\"${eventType}\" ${type === eventType ? 'checked' : ''}>\n                      <label class=\"event__type-label event__type-label--${eventType}\" for=\"event-type-${eventType}\">\n                        ${eventType}\n                      </label>\n                    </div>\n                  `).join('')}\n                </fieldset>\n              </div>\n            </div>\n\n            <!-- Поле выбора пункта назначения -->\n            <div class=\"event__field-group event__field-group--destination\">\n              <label class=\"event__label event__type-output\" for=\"event-destination\">\n                ${type}\n              </label>\n              <input class=\"event__input event__input--destination\" id=\"event-destination\" \n                type=\"text\" name=\"event-destination\" value=\"${destinationData?.name || ''}\" \n                list=\"destination-list\" required>\n              <datalist id=\"destination-list\">\n                ${this._destinationsModel.getDestinations().map((d) => `\n                  <option value=\"${d.name}\"></option>\n                `).join('')}\n              </datalist>\n            </div>\n\n            <!-- Даты -->\n            <div class=\"event__field-group event__field-group--time\">\n              <label class=\"visually-hidden\" for=\"event-start-time\">From</label>\n              <input class=\"event__input event__input--time\" id=\"event-start-time\" \n                type=\"text\" name=\"event-start-time\" value=\"${formatDate(dateFrom)} ${formatTime(dateFrom)}\" required>\n              &mdash;\n              <label class=\"visually-hidden\" for=\"event-end-time\">To</label>\n              <input class=\"event__input event__input--time\" id=\"event-end-time\" \n                type=\"text\" name=\"event-end-time\" value=\"${formatDate(dateTo)} ${formatTime(dateTo)}\" required>\n            </div>\n\n            <!-- Цена -->\n            <div class=\"event__field-group event__field-group--price\">\n              <label class=\"event__label\" for=\"event-price\">\n                <span class=\"visually-hidden\">Price</span>\n                &euro;\n              </label>\n              <input class=\"event__input event__input--price\" id=\"event-price\" \n                type=\"number\" name=\"event-price\" value=\"${basePrice}\" min=\"1\" required>\n            </div>\n\n            <!-- Кнопки -->\n            <button class=\"event__save-btn btn btn--blue\" type=\"submit\">Save</button>\n            <button class=\"event__reset-btn\" type=\"reset\">Delete</button>\n            <button class=\"event__rollup-btn\" type=\"button\">\n              <span class=\"visually-hidden\">Close event</span>\n            </button>\n          </header>\n\n          <!-- Детали -->\n          <section class=\"event__details\">\n            <!-- Офферы -->\n            ${typeOffers.length > 0 ? `\n              <section class=\"event__section event__section--offers\">\n                <h3 class=\"event__section-title event__section-title--offers\">Offers</h3>\n                <div class=\"event__available-offers\">\n                  ${typeOffers.map((offer) => `\n                    <div class=\"event__offer-selector\">\n                      <input class=\"event__offer-checkbox visually-hidden\" id=\"event-offer-${offer.id}\" \n                        type=\"checkbox\" name=\"event-offer\" value=\"${offer.id}\" \n                        ${offers.includes(offer.id) ? 'checked' : ''}>\n                      <label class=\"event__offer-label\" for=\"event-offer-${offer.id}\">\n                        <span class=\"event__offer-title\">${offer.title}</span>\n                        +€&nbsp;<span class=\"event__offer-price\">${offer.price}</span>\n                      </label>\n                    </div>\n                  `).join('')}\n                </div>\n              </section>\n            ` : ''}\n\n            <!-- Описание пункта назначения -->\n            ${destinationData?.description ? `\n              <section class=\"event__section event__section--destination\">\n                <h3 class=\"event__section-title event__section-title--destination\">Destination</h3>\n                <p class=\"event__destination-description\">${destinationData.description}</p>\n                \n                ${destinationData.pictures?.length > 0 ? `\n                  <div class=\"event__photos-container\">\n                    ${destinationData.pictures.map((pic) => `\n                      <img class=\"event__photo\" src=\"${pic.src}\" alt=\"${pic.description}\">\n                    `).join('')}\n                  </div>\n                ` : ''}\n              </section>\n            ` : ''}\n          </section>\n        </form>\n      </li>\n    `;\n  }\n\n\n  _restoreHandlers() {\n    this.#setHandlers();\n  }\n\n  #setHandlers() {\n\n    this.element.querySelector('.event__type-list')\n      .addEventListener('change', this.#typeChangeHandler);\n\n    this.element.querySelector('.event__input--destination')\n      .addEventListener('change', this.#destinationChangeHandler);\n\n    this.element.querySelector('[name=\"event-start-time\"]')\n      .addEventListener('change', this.#dateFromChangeHandler);\n    this.element.querySelector('[name=\"event-end-time\"]')\n      .addEventListener('change', this.#dateToChangeHandler);\n\n    this.element.querySelector('.event__input--price')\n      .addEventListener('change', this.#priceChangeHandler);\n\n\n    const offerInputs = this.element.querySelectorAll('.event__offer-checkbox');\n    offerInputs.forEach((input) => {\n      input.addEventListener('change', this.#offerChangeHandler);\n    });\n\n\n    this.element.querySelector('.event__save-btn')\n      .addEventListener('click', this.#formSubmitHandler);\n    this.element.querySelector('.event__reset-btn')\n      .addEventListener('click', this.#deleteClickHandler);\n\n\n    this.element.querySelector('.event__rollup-btn')\n      .addEventListener('click', this.#closeHandler);\n\n\n    document.addEventListener('keydown', this.#escKeyDownHandler);\n  }\n\n  #typeChangeHandler = (evt) => {\n    if (evt.target.tagName !== 'INPUT') {\n      return;\n    }\n\n    this.updateElement({\n      type: evt.target.value,\n      offers: []\n    });\n  };\n\n \n\n  #dateFromChangeHandler = (evt) => {\n    this.updateElement({ dateFrom: new Date(evt.target.value) });\n  };\n\n  #dateToChangeHandler = (evt) => {\n    this.updateElement({ dateTo: new Date(evt.target.value) });\n  };\n\n  #priceChangeHandler = (evt) => {\n    this.updateElement({ basePrice: parseInt(evt.target.value, 10) });\n  };\n\n  #offerChangeHandler = (evt) => {\n    const offerId = parseInt(evt.target.value, 10);\n    const offers = this._state.offers.includes(offerId)\n      ? this._state.offers.filter((id) => id !== offerId)\n      : [...this._state.offers, offerId];\n\n    this.updateElement({ offers });\n  };\n\n   #formSubmitHandler = (evt) => {\n    evt.preventDefault();\n    if (!this.#validateForm()) {\n      return;\n    }\n    const eventData = this.#prepareEventData();\n    this._callback.submit(eventData);\n  }\n\n   #validateForm() {\n    const { destination, basePrice, dateFrom, dateTo } = this._state;\n    const destinationData = this._destinationsModel.getDestinationById(destination);\n    if (!destinationData) {\n      this.shake(() => alert(FormError.DESTINATION));\n      return false;\n    }\n    if (basePrice <= 0 || isNaN(basePrice)) {\n      this.shake(() => alert(FormError.PRICE));\n      return false;\n    }\n    if (dateTo <= dateFrom) {\n      this.shake(() => alert(FormError.DATES));\n      return false;\n    }\n    return true;\n  }\n  #prepareEventData() {\n    const state = { ...this._state };\n    const destinationData = this._destinationsModel.getDestinationById(state.destination);\n    return {\n      ...state,\n      destination: destinationData.id, \n      offers: state.offers.map(offer => offer.id || offer) \n    };\n  }\n\n  #destinationChangeHandler = (evt) => {\n    const destinationName = evt.target.value;\n    const destination = this._destinationsModel.getDestinations()\n      .find(dest => dest.name === destinationName);\n\n    if (!destination) {\n      return;\n    }\n\n    this.updateElement({\n      destination: destination.id\n    });\n  };\n\n  \n\n  #rollupClickHandler = (evt) => {\n    evt.preventDefault();\n    if (this._callback.close) {\n      this._callback.close();\n    }\n  };\n\n  #deleteClickHandler = (evt) => {\n    evt.preventDefault();\n    this._callback.delete(this._state.id);\n  };\n\n  #escKeyDownHandler = (evt) => {\n    if (evt.key === 'Escape' || evt.key === 'Esc') {\n      evt.preventDefault();\n      evt.stopPropagation();\n      this.#closeHandler(evt);\n    }\n  };\n\n  #closeHandler = (evt) => {\n    evt?.preventDefault();\n    this._callback.close();\n    document.removeEventListener('keydown', this.#escKeyDownHandler);\n  };\n\n  setCloseHandler(callback) {\n    this._callback.close = callback;\n    return this;\n  }\n\n  setSubmitHandler(callback) {\n    this._callback.submit = callback;\n    return this;\n  }\n\n  setDeleteHandler(callback) {\n    this._callback.delete = callback;\n    return this;\n  }\n\n  _restoreHandlers() {\n    this.#setHandlers();\n  }\n\n  removeElement() {\n    document.removeEventListener('keydown', this.#escKeyDownHandler);\n    super.removeElement();\n  }\n\n}\n","import AbstractView from '../framework/view/abstract-view.js';\nimport { getTripTitle, calculateTotalPrice } from '../utils/trip.js';\nimport { formatDate, formatDateRange } from '../utils/date.js';\nexport default class TripInfoView extends AbstractView {\n  constructor(events = [], destinations = [], offers = []) {\n    super();\n    this._events = events;\n    this._destinations = destinations;\n    this._offers = offers;\n  }\n\n  get template() {\n    if (!this._events.length) {\n      return '<div class=\"trip-info\"></div>';\n    }\n\n    const sortedEvents = [...this._events].sort((a, b) => new Date(a.dateFrom) - new Date(b.dateFrom));\n    const startDate = sortedEvents[0].dateFrom;\n    const endDate = sortedEvents[sortedEvents.length - 1].dateTo;\n\n    return `\n      <section class=\"trip-main__trip-info trip-info\">\n        <div class=\"trip-info__main\">\n          <h1 class=\"trip-info__title\">${getTripTitle(sortedEvents, this._destinations)}</h1>\n          <p class=\"trip-info__dates\">${formatDateRange(startDate, endDate)}</p>\n        </div>\n        <p class=\"trip-info__cost\">\n          Total: &euro;&nbsp;<span class=\"trip-info__cost-value\">\n            ${calculateTotalPrice(this._events, this._offers)}\n          </span>\n        </p>\n      </section>\n    `;\n  }\n}\n","export const getTripTitle = (events = [], destinations = []) => {\n  if (!events.length || !destinations.length) {\n    return 'No destinations';\n  }\n\n  const getCityById = (id) => destinations.find((d) => d.id === id)?.name || 'Unknown';\n  const uniqueCities = [...new Set(events.map((e) => getCityById(e.destination)).filter(Boolean))];\n\n  if (!uniqueCities.length) {\n    return 'No valid destinations';\n  }\n\n  return uniqueCities.length <= 3\n    ? uniqueCities.join(' — ')\n    : `${uniqueCities[0]} — ... — ${uniqueCities[uniqueCities.length - 1]}`;\n};\n\nexport const calculateTotalPrice = (events = [], offers = []) => {\n  if (!events.length) {\n    return 0;\n  }\n\n  return events.reduce((total, event) => {\n    const eventTypeOffers = offers.find((o) => o.type === event.type)?.offers || [];\n    const selectedOffersPrice = (event.offers || []).reduce((sum, offerId) => {\n      const offer = eventTypeOffers.find((o) => o.id === offerId);\n      return sum + (offer?.price || 0);\n    }, 0);\n\n    return total + (event.basePrice || 0) + selectedOffersPrice;\n  }, 0);\n};\n","import AbstractView from '../framework/view/abstract-view.js';\n\nexport default class NewEventButtonView extends AbstractView {\n  constructor({ onClick, isDisabled = false }) {\n    super();\n    this._onClick = onClick;\n    this._isDisabled = isDisabled;\n\n    this.element.addEventListener('click', this._clickHandler);\n  }\n\n  get template() {\n    return `\n      <button \n        class=\"trip-main__event-add-btn btn btn--big btn--yellow\" \n        type=\"button\"\n        ${this._isDisabled ? 'disabled' : ''}\n      >\n        <span class=\"visually-hidden\">New event</span>New event\n      </button>\n    `;\n  }\n\n  _clickHandler = (evt) => {\n    evt.preventDefault();\n    this._onClick();\n  };\n\n  setDisabled(isDisabled) {\n    this._isDisabled = isDisabled;\n    this.element.disabled = isDisabled;\n  }\n}\n\n","import AbstractView from '../framework/view/abstract-view.js';\n\nexport default class EmptyListView extends AbstractView {\n  constructor(filterType = 'everything') {\n    super();\n    this._filterType = filterType;\n  }\n\n  get template() {\n    const messages = {\n      everything: 'Click New Event to create your first point',\n      future: 'There are no future events now',\n      past: 'There are no past events now',\n      present: 'There are no present events now'\n    };\n\n    return `<p class=\"trip-events__msg\">${messages[this._filterType]}</p>`;\n  }\n}\n","import AbstractStatefulView from '../framework/view/abstract-stateful-view.js';\nimport { formatDate, formatTime, calculateDuration } from '../utils/date.js';\n\nexport default class EventView extends AbstractStatefulView {\n  constructor({\n    event,\n    destinationsModel,\n    offersModel,\n    onEditClick,\n    onFavoriteClick\n  }) {\n    super();\n    this._state = { ...event };\n    this._destinationsModel = destinationsModel;\n    this._offersModel = offersModel;\n    this._callback = {\n      rollupClick: onEditClick,\n      favoriteClick: onFavoriteClick\n    };\n    this.#setHandlers();\n  }\n\n  get template() {\n    const { type, destination, dateFrom, dateTo, basePrice, isFavorite, offers } = this._state;\n\n    const destinationData = typeof destination === 'object'\n      ? destination\n      : this._destinationsModel.getDestinationById(destination);\n\n    if (!destinationData) {\n      console.error('Destination data not found for:', destination);\n      return '<div class=\"error\">Invalid destination</div>';\n    }\n    const typeOffers = this._offersModel.getOffersByType(type);\n    const selectedOffers = typeOffers.filter((offer) => this._state.offers.includes(offer.id));\n\n    return `\n      <li class=\"trip-events__item\">\n        <div class=\"event\">\n          <time class=\"event__date\" datetime=\"${dateFrom.toISOString()}\">${formatDate(dateFrom)}</time>\n          <div class=\"event__type\">\n            <img class=\"event__type-icon\" width=\"42\" height=\"42\" \n                 src=\"img/icons/${type}.png\" alt=\"Event type icon\">\n          </div>\n          <h3 class=\"event__title\">${type} ${destinationData.name}</h3>\n          \n          <div class=\"event__schedule\">\n            <p class=\"event__time\">\n              <time datetime=\"${dateFrom.toISOString()}\">${formatTime(dateFrom)}</time>\n              &mdash;\n              <time datetime=\"${dateTo.toISOString()}\">${formatTime(dateTo)}</time>\n            </p>\n            <p class=\"event__duration\">${calculateDuration(dateFrom, dateTo)}</p>\n          </div>\n          \n          <p class=\"event__price\">\n            &euro;&nbsp;<span class=\"event__price-value\">${basePrice}</span>\n          </p>\n          \n          ${selectedOffers.length > 0 ? `\n            <h4 class=\"visually-hidden\">Offers:</h4>\n            <ul class=\"event__selected-offers\">\n              ${selectedOffers.map((offer) => `\n                <li class=\"event__offer\">\n                  <span class=\"event__offer-title\">${offer.title}</span>\n                  &plus;&euro;&nbsp;\n                  <span class=\"event__offer-price\">${offer.price}</span>\n                </li>\n              `).join('')}\n            </ul>\n          ` : ''}\n          \n          <button class=\"event__favorite-btn ${isFavorite ? 'event__favorite-btn--active' : ''}\" type=\"button\">\n            <span class=\"visually-hidden\">Add to favorite</span>\n            <svg class=\"event__favorite-icon\" width=\"28\" height=\"28\" viewBox=\"0 0 28 28\">\n              <path d=\"M14 21l-8.22899 4.3262 1.57159-9.1631L.685209 9.67376 9.8855 8.33688 14 0l4.1145 8.33688 9.2003 1.33688-6.6574 6.48934 1.5716 9.1631L14 21z\"/>\n            </svg>\n          </button>\n          \n          <button class=\"event__rollup-btn\" type=\"button\">\n            <span class=\"visually-hidden\">Open event</span>\n          </button>\n        </div>\n      </li>\n    `;\n  }\n\n  #setHandlers() {\n    const rollupBtn = this.element.querySelector('.event__rollup-btn');\n    const favoriteBtn = this.element.querySelector('.event__favorite-btn');\n\n    if (!rollupBtn || !favoriteBtn) {\n      console.error('Кнопки не найдены:', { rollupBtn, favoriteBtn });\n      return;\n    }\n\n    rollupBtn.addEventListener('click', this.#rollupClickHandler);\n    favoriteBtn.addEventListener('click', this.#favoriteClickHandler);\n  }\n\n\n  _restoreHandlers() {\n    this.#setHandlers();\n  }\n\n  #favoriteClickHandler = (evt) => {\n    evt.preventDefault();\n    if (typeof this._callback.favoriteClick === 'function') {\n      this._callback.favoriteClick({\n        ...this._state,\n        isFavorite: !this._state.isFavorite\n      });\n    } else {\n      console.error('Favorite click handler is not a function');\n    }\n  };\n\n  #rollupClickHandler = (evt) => {\n    evt.preventDefault();\n    this._callback.rollupClick();\n  };\n\n  setFavoriteClickHandler(callback) {\n    const favoriteBtn = this.element.querySelector('.event__favorite-btn');\n    if (!favoriteBtn) {\n      return;\n    }\n    favoriteBtn.removeEventListener('click', this.#favoriteClickHandler);\n    this._callback.favoriteClick = callback;\n    favoriteBtn.addEventListener('click', this.#favoriteClickHandler);\n  }\n\n  setRollupClickHandler(callback) {\n    const rollupBtn = this.element.querySelector('.event__rollup-btn');\n    if (!rollupBtn) {\n      return;\n    }\n    rollupBtn.removeEventListener('click', this.#rollupClickHandler);\n    this._callback.rollupClick = callback;\n    rollupBtn.addEventListener('click', this.#rollupClickHandler);\n  }\n\n  setEditClickHandler(callback) {\n    this._callback.editClick = callback;\n    return this;\n  }\n\n\n}\n","//новый\nimport AbstractView from '../src/framework/view/abstract-view.js';\n\n/** @enum {string} Перечисление возможных позиций для отрисовки */\nconst RenderPosition = {\n  BEFOREBEGIN: 'beforebegin',\n  AFTERBEGIN: 'afterbegin',\n  BEFOREEND: 'beforeend',\n  AFTEREND: 'afterend',\n};\n\n/**\n * Функция для создания элемента на основе разметки\n * @param {string} template Разметка в виде строки\n * @returns {HTMLElement} Созданный элемент\n */\nfunction createElement(template) {\n  const newElement = document.createElement('div');\n  newElement.innerHTML = template;\n\n  return newElement.firstElementChild;\n}\n\n/**\n * Функция для отрисовки элемента\n * @param {AbstractView} component Компонент, который должен был отрисован\n * @param {HTMLElement} container Элемент в котором будет отрисован компонент\n * @param {string} place Позиция компонента относительно контейнера. По умолчанию - `beforeend`\n */\nfunction render(component, container, place = RenderPosition.BEFOREEND) {\n  if (!(component instanceof AbstractView)) {\n    throw new Error('Can render only components');\n  }\n\n  if (container === null) {\n    throw new Error('Container element doesn\\'t exist');\n  }\n\n  container.insertAdjacentElement(place, component.element);\n}\n\n/**\n * Функция для замены одного компонента на другой\n * @param {AbstractView} newComponent Компонент, который нужно показать\n * @param {AbstractView} oldComponent Компонент, который нужно скрыть\n */\nfunction replace(newComponent, oldComponent) {\n  const parent = oldComponent.element.parentElement;\n  if (!parent) {\n    throw new Error('Can\\'t replace unexisting parent');\n  }\n\n  parent.replaceChild(newComponent.element, oldComponent.element);\n  oldComponent.removeElement();\n}\n\n\n/**\n * Функция для удаления компонента\n * @param {AbstractView} component Компонент, который нужно удалить\n */\nfunction remove(component) {\n  if (component === null || component === undefined) {\n    return;\n  }\n\n  if (!(component instanceof AbstractView)) {\n    throw new Error('Can remove only components');\n  }\n\n  component.removeElement();\n}\n\nexport {RenderPosition, createElement, render, replace, remove};\n","import EventView from '../view/event-view.js';\nimport EventEditView from '../view/event-edit-view.js';\nimport { render, replace, remove } from '../render.js';\n\nexport default class EventPresenter {\n  #event = null;\n  #eventComponent = null;\n  #eventEditComponent = null;\n  #container = null;\n  #destinationsModel = null;\n  #offersModel = null;\n  #handleDataChange = null;\n  #handleModeChange = null;\n  #mode = 'DEFAULT';\n  #isEditFormOpen = false;\n\n  constructor({ container, destinationsModel, offersModel, onDataChange, onModeChange }) {\n    if (!container) {\n      throw new Error('Container not provided');\n    }\n    this.#container = container;\n    this.#destinationsModel = destinationsModel;\n    this.#offersModel = offersModel;\n    this.#handleDataChange = onDataChange;\n    this.#handleModeChange = onModeChange;\n  }\n\n  init(event) {\n    this.#event = event;\n\n    const prevEventComponent = this.#eventComponent;\n    const prevEventEditComponent = this.#eventEditComponent;\n\n    this.#eventComponent = new EventView({\n      event: this.#event,\n      destinationsModel: this.#destinationsModel,\n      offersModel: this.#offersModel,\n      onEditClick: this.#handleEditClick,\n      onFavoriteClick: this.#handleFavoriteClick\n    });\n\n    this.#eventEditComponent = new EventEditView(\n      this.#event,\n      this.#destinationsModel,\n      this.#offersModel\n    );\n\n    this.#eventEditComponent.setSubmitHandler(this.#handleFormSubmit);\n    this.#eventEditComponent.setDeleteHandler(this.#handleDeleteClick);\n    this.#eventEditComponent.setCloseHandler(this.#handleCloseClick);\n\n    if (prevEventComponent === null || prevEventEditComponent === null) {\n      render(this.#eventComponent, this.#container);\n    } else {\n      if (this.#mode === 'DEFAULT') {\n        replace(this.#eventComponent, prevEventComponent);\n      }\n\n      if (this.#mode === 'EDITING') {\n        replace(this.#eventEditComponent, prevEventEditComponent);\n      }\n    }\n\n    this.#eventComponent.setRollupClickHandler(this.#handleEditClick);\n    this.#eventComponent.setFavoriteClickHandler(this.#handleFavoriteClick);\n\n    remove(prevEventComponent);\n    remove(prevEventEditComponent);\n  }\n\n  destroy() {\n    remove(this.#eventComponent);\n    remove(this.#eventEditComponent);\n  }\n\n  resetView() {\n    if (this.#isEditFormOpen) {\n      this.#replaceFormToEvent();\n    }\n  }\n\n  #replaceEventToForm = () => {\n    const currentEventElement = this.#eventComponent.element;\n    this.#eventEditComponent = new EventEditView(\n      this.#event,\n      this.#destinationsModel,\n      this.#offersModel\n    );\n    this.#eventEditComponent.setSubmitHandler(this.#handleFormSubmit);\n    this.#eventEditComponent.setDeleteHandler(this.#handleDeleteClick);\n    this.#eventEditComponent.setCloseHandler(this.#handleCloseClick);\n    currentEventElement.replaceWith(this.#eventEditComponent.element);\n    document.addEventListener('keydown', this.#escKeyDownHandler);\n    this.#mode = 'EDITING';\n    this.#isEditFormOpen = true;\n  };\n\n  #replaceFormToEvent = () => {\n    if (this.#isEditFormOpen && this.#eventEditComponent) {\n      const newEventComponent = new EventView({\n        event: this.#event,\n        destinationsModel: this.#destinationsModel,\n        offersModel: this.#offersModel,\n        onEditClick: this.#handleEditClick,\n        onFavoriteClick: this.#handleFavoriteClick\n      });\n      this.#eventEditComponent.element.replaceWith(newEventComponent.element);\n      this.#eventComponent = newEventComponent;\n      document.removeEventListener('keydown', this.#escKeyDownHandler);\n      this.#mode = 'DEFAULT';\n      this.#isEditFormOpen = false;\n      this.#eventEditComponent = null;\n    }\n  };\n\n  #escKeyDownHandler = (evt) => {\n    if (evt.key === 'Escape' || evt.key === 'Esc') {\n      evt.preventDefault();\n      evt.stopPropagation();\n      this.#handleCloseClick();\n    }\n  };\n\n  #handleEditClick = () => {\n    this.#replaceEventToForm();\n  };\n\n  isEditFormOpen() {\n    return this.#mode === 'EDITING';\n  }\n\n  #handleFavoriteClick = (updatedEvent) => {\n    this.#handleDataChange(updatedEvent);\n  };\n\n#handleFormSubmit = (updatedEvent) => {\n  if (!updatedEvent.destination) {\n    this.#eventEditComponent.shake();\n    return;\n  }\n  const destination = this.#destinationsModel.getDestinationById(updatedEvent.destination);\n  if (!destination) {\n    this.#eventEditComponent.shake();\n    return;\n  }\n  const fullUpdatedEvent = {\n    ...this.#event,\n    ...updatedEvent,\n    destination: destination.id \n  };\n\n  this.#handleDataChange(fullUpdatedEvent);\n  this.#replaceFormToEvent();\n};\n\n  #handleDeleteClick = (eventId) => {\n    this.#handleDataChange(eventId, true);\n  };\n\n  #handleCloseClick = () => {\n    this.#replaceFormToEvent();\n  };\n}\n","import FiltersView from '../view/filters-view';\nimport SortView from '../view/sort-view';\nimport EventEditView from '../view/event-edit-view';\nimport TripInfoView from '../view/trip-info-view';\nimport NewEventButtonView from '../view/new-event-button-view';\nimport EmptyListView from '../view/empty-list-view';\nimport {DEFAULT_EVENT} from '../const';\nimport EventPresenter from './event-presenter';\nimport {render, replace} from '../render';\n\nconst SortType = {\n  DAY: 'day',\n  TIME: 'time',\n  PRICE: 'price'\n};\n\nexport default class TripPresenter {\n  #newEventForm = null;\n  #eventsModel = null;\n  #destinationsModel = null;\n  #offersModel = null;\n  #eventsContainer = null;\n  #mainContainer = null;\n  #eventPresenters = new Map();\n  #currentSortType = SortType.DAY;\n  #tripInfoComponent = null;\n  #filtersComponent = null;\n  #sortComponent = null;\n  #newEventButtonComponent = null;\n  #currentEventComponent = null;\n  #currentEditForm = null;\n  #isNewEventFormOpen = false;\n  constructor(containers, eventsModel, destinationsModel, offersModel) {\n    if (!containers.eventsContainer || !containers.mainContainer) {\n      throw new Error('Containers not provided');\n    }\n    this.#eventsContainer = containers.eventsContainer;\n    this.#mainContainer = containers.mainContainer;\n    this.#eventsModel = eventsModel;\n    this.#destinationsModel = destinationsModel;\n    this.#offersModel = offersModel;\n\n\n  }\n\n  init() {\n    console.log('Trip container:', this.#eventsContainer);\n    console.log('List element:', this.#eventsContainer.querySelector('.trip-events__list'));\n    console.log('Проверка данных:', {\n      events: this.#eventsModel.getEvents(),\n      destinations: this.#destinationsModel.getDestinations(),\n      offers: this.#offersModel.getOffers()\n    });\n    this.#renderTripInfo();\n    this.#renderFilters();\n    this.#renderSort();\n    this.#renderEventsList();\n    this.#renderNewEventButton();\n  }\n\n  #renderEvent(event) {\n    const eventsListElement = this.#eventsContainer.querySelector('.trip-events__list');\n    if (!eventsListElement) {\n      return;\n    }\n\n    const eventPresenter = new EventPresenter({\n      container: eventsListElement,\n      destinationsModel: this.#destinationsModel,\n      offersModel: this.#offersModel,\n      onDataChange: this.#handleEventChange,\n      onModeChange: this.#handleModeChange\n    });\n\n    eventPresenter.init(event);\n    this.#eventPresenters.set(event.id, eventPresenter);\n  }\n\n  #renderEventsList() {\n    const eventsListElement = this.#eventsContainer.querySelector('.trip-events__list');\n    if (!eventsListElement) {\n      console.error('Events list container not found');\n      return;\n    }\n\n    eventsListElement.innerHTML = '';\n    const events = this.#getSortedEvents();\n\n    if (events.length === 0) {\n      render(new EmptyListView(), eventsListElement);\n      return;\n    }\n\n    events.forEach((event) => {\n      this.#renderEvent(event);\n    });\n  }\n\n  #renderTripInfo() {\n    const events = this.#eventsModel.getEvents();\n    const destinations = this.#destinationsModel.getDestinations();\n\n    this.#tripInfoComponent = new TripInfoView(events, destinations);\n    const container = this.#mainContainer.querySelector('.trip-main__trip-info');\n\n    if (!container) {\n      console.error('Trip info container not found');\n      return;\n    }\n\n    container.innerHTML = '';\n    render(this.#tripInfoComponent, container);\n  }\n\n  #renderNewEventButton() {\n    try {\n      if (this.#newEventButtonComponent) {\n        remove(this.#newEventButtonComponent);\n        this.#newEventButtonComponent = null;\n      }\n      this.#newEventButtonComponent = new NewEventButtonView({\n        onClick: this.#handleNewEventClick\n      });\n      render(this.#newEventButtonComponent, this.#mainContainer);\n      console.log('New event button rendered successfully');\n    } catch (error) {\n      console.error('Error rendering new event button:', error);\n    }\n  }\n\n  #renderFilters() {\n    const filtersContainer = this.#eventsContainer.querySelector('.trip-controls__filters');\n    if (!filtersContainer) {\n      return;\n    }\n\n    filtersContainer.innerHTML = '';\n    const filters = [\n      { type: 'everything', name: 'Everything', count: this.#eventsModel.getEvents().length },\n      { type: 'future', name: 'Future', count: this.#eventsModel.getFutureEvents().length },\n      { type: 'past', name: 'Past', count: this.#eventsModel.getPastEvents().length }\n    ];\n\n    this.#filtersComponent = new FiltersView(filters, 'everything');\n    render(this.#filtersComponent, filtersContainer);\n  }\n\n  #renderSort() {\n    const sortContainer = this.#eventsContainer.querySelector('.trip-events__trip-sort');\n    if (!sortContainer) {\n      return;\n    }\n\n    sortContainer.innerHTML = '';\n    this.#sortComponent = new SortView(this.#currentSortType);\n    this.#sortComponent.setSortTypeChangeHandler(this.#handleSortTypeChange);\n    render(this.#sortComponent, sortContainer);\n  }\n\n  #clearEventsList() {\n    this.#eventPresenters.forEach((presenter) => presenter.destroy());\n    this.#eventPresenters.clear();\n\n    const list = this.#eventsContainer.querySelector('.trip-events__list');\n    if (list) {\n      list.innerHTML = '';\n    }\n  }\n\n  #getSortedEvents() {\n    switch (this.#currentSortType) {\n      case SortType.TIME:\n        return this.#eventsModel.getEventsSortedByTime();\n      case SortType.PRICE:\n        return this.#eventsModel.getEventsSortedByPrice();\n      default:\n        return this.#eventsModel.getEventsSortedByDay();\n    }\n  }\n\n  #handleEventChange = (updatedEvent, isDeleting = false) => {\n    if (isDeleting) {\n      console.log('Deleting event:', updatedEvent);\n      this.#eventsModel.deleteEvent(updatedEvent);\n    } else {\n      console.log('Updating event:', updatedEvent);\n      this.#eventsModel.updateEvent(updatedEvent);\n    }\n\n    const presenter = this.#eventPresenters.get(updatedEvent.id);\n    if (presenter) {\n      presenter.init(updatedEvent);\n    }\n  };\n\n\n  #handleModeChange = () => {\n    this.#eventPresenters.forEach((presenter) => presenter.resetView());\n  };\n\n  #handleSortTypeChange = (sortType) => {\n\n    if (this.#currentSortType === sortType) {\n      return;\n    }\n\n    this.#currentSortType = sortType;\n    this.#clearEventsList();\n    this.#renderEventsList();\n  };\n\n  #handleNewEventClick = () => {\n\n    this.#eventPresenters.forEach((presenter) => presenter.resetView());\n\n    const eventsListElement = this.#eventsContainer.querySelector('.trip-events__list');\n    if (!eventsListElement) {\n      return;\n    }\n\n    this.#isNewEventFormOpen = true;\n    this.#newEventButtonComponent.setDisabled(true);\n\n    this.#newEventForm = new EventEditView(\n      DEFAULT_EVENT,\n      this.#destinationsModel,\n      this.#offersModel\n    );\n\n    this.#newEventForm.setCloseHandler(() => this.#closeNewEventForm());\n    this.#newEventForm.setSubmitHandler((newEvent) => {\n      this.#eventsModel.addEvent(newEvent);\n      this.#closeNewEventForm();\n    });\n\n    eventsListElement.prepend(this.#newEventForm.element);\n    document.addEventListener('keydown', this.#escKeyDownHandler);\n  };\n\n  #escKeyDownHandler = (evt) => {\n    if (evt.key === 'Escape' || evt.key === 'Esc') {\n      evt.preventDefault();\n\n      if (this.#isNewEventFormOpen) {\n        this.#closeNewEventForm();\n      } else {\n        this.#eventPresenters.forEach((presenter) => {\n          if (presenter.isEditFormOpen()) {\n            presenter.resetView();\n          }\n        });\n      }\n    }\n  };\n\n\n  #closeNewEventForm = () => {\n    if (this.#newEventForm) {\n      this.#newEventForm.removeElement();\n      this.#newEventForm = null;\n      this.#isNewEventFormOpen = false;\n      document.removeEventListener('keydown', this.#escKeyDownHandler);\n      this.#newEventButtonComponent.setDisabled(false);\n      this.#renderEventsList();\n    }\n  };\n\n  #replaceFormToEvent() {\n    if (!this.#currentEventComponent || !this.#currentEditForm) {\n      return;\n    }\n\n    replace(this.#currentEventComponent, this.#currentEditForm);\n    document.removeEventListener('keydown', this.#escKeyDownHandler);\n    this.#currentEditForm = null;\n    this.#currentEventComponent = null;\n    this.#renderEventsList();\n  }\n}\n","export default class EventsModel {\n  constructor() {\n    this._events = [];\n    this._destinationsModel = null;\n    this._offersModel = null;\n  }\n\n  setEvents(events) {\n    this._events = events.map((event) => ({\n      ...event,\n      dateFrom: new Date(event.dateFrom),\n      dateTo: new Date(event.dateTo)\n    }));\n  }\n\n  setDestinationsModel(model) {\n    this._destinationsModel = model;\n  }\n\n  setOffersModel(model) {\n    this._offersModel = model;\n  }\n\n  getEvents() {\n    return this._events.map((event) => {\n      const destination = this._destinationsModel.getDestinationById(event.destination);\n      if (!destination) {\n        console.warn(`Destination not found for event ${event.id}: ${event.destination}`);\n        return null;\n      }\n      return {\n        ...event,\n        destination: destination,\n        offers: this._offersModel.getOffersByType(event.type)\n          .filter((offer) => event.offers.includes(offer.id))\n      };\n    }).filter(Boolean);\n  }\n\n  addEvent(event) {\n    this._events = [...this._events, event];\n  }\n\n  updateEvent(updatedEvent) {\n    this._events = this._events.map((event) =>\n      event.id === updatedEvent.id ? {...updatedEvent} : event\n    );\n  }\n\n  deleteEvent(id) {\n    this._events = this._events.filter((event) => event.id !== id);\n  }\n\n  getFutureEvents() {\n    const now = new Date();\n    return this.getEvents().filter((event) => new Date(event.dateFrom) > now);\n  }\n\n  getPastEvents() {\n    const now = new Date();\n    return this.getEvents().filter((event) => new Date(event.dateTo) < now);\n  }\n\n  getPresentEvents() {\n    const now = new Date();\n    return this.getEvents().filter((event) =>\n      new Date(event.dateFrom) <= now && new Date(event.dateTo) >= now\n    );\n  }\n\n\n  getEventsSortedByDay() {\n    return [...this.getEvents()].sort((a, b) => a.dateFrom - b.dateFrom);\n  }\n\n  getEventsSortedByTime() {\n    return [...this.getEvents()].sort((a, b) => {\n      const durationA = a.dateTo - a.dateFrom;\n      const durationB = b.dateTo - b.dateFrom;\n      return durationB - durationA;\n    });\n  }\n\n  getEventsSortedByPrice() {\n    return [...this.getEvents()].sort((a, b) => b.basePrice - a.basePrice);\n  }\n}\n","export default class DestinationsModel {\n  constructor() {\n    this._destinations = [];\n  }\n\n  getDestinations() {\n    return this._destinations;\n  }\n\n  getDestinationById(id) {\n    return this._destinations.find((destination) => destination.id === id);\n  }\n\n  setDestinations(destinations) {\n    this._destinations = destinations;\n  }\n}\n","export default class OffersModel {\n  constructor() {\n    this._offers = [];\n  }\n\n  getOffers() {\n    return this._offers;\n  }\n\n  getOffersByType(type) {\n    const offerGroup = this._offers.find((offer) => offer.type === type);\n    return offerGroup ? offerGroup.offers : [];\n  }\n\n  setOffers(offers) {\n    this._offers = offers;\n  }\n}\n","export const OFFERS = [\n  {\n    type: 'taxi',\n    offers: [\n      { id: 1, title: 'Повысить класс', price: 20 },\n      { id: 2, title: 'Детское кресло', price: 10 }\n    ]\n  },\n  {\n    type: 'flight',\n    offers: [\n      { id: 1, title: 'Бизнес-класс', price: 150 },\n      { id: 2, title: 'Доп. багаж', price: 50 }\n    ]\n  },\n  {\n    type: 'drive',\n    offers: [\n      { id: 1, title: 'Завтрак', price: 15 },\n      { id: 2, title: 'Улучшенный номер', price: 80 }\n    ]\n  }\n];\nexport const generateOffers = () => {\n  const offerTypes = {\n    taxi: ['Повысить класс', 'Детское кресло'],\n    bus: ['Кондиционер', 'Wi-Fi'],\n    train: ['Купе', 'Обед'],\n    ship: ['Каюта', 'Экскурсия'],\n    drive: ['Полный бак', 'Страховка'],\n    flight: ['Бизнес-класс', 'Доп. багаж'],\n    'check-in': ['Завтрак', 'Улучшенный номер'],\n    sightseeing: ['Гид', 'Фотосессия'],\n    restaurant: ['Дегустация', 'Вино']\n  };\n\n  return Object.entries(offerTypes).map(([type, titles]) => ({\n    type,\n    offers: titles.map((title, id) => ({\n      id: id + 1,\n      title,\n      price: Math.floor(Math.random() * 100) + 10 \n    }))\n  }));\n};\n","import { generateDestinations } from './destinations.js';\nimport { generateOffers } from './offers.js';\nimport { generateEvents } from './events.js';\n\nconst DESTINATIONS = generateDestinations();\nconst OFFERS = generateOffers();\nconst EVENTS = generateEvents(15, DESTINATIONS);\n\nexport { DESTINATIONS, OFFERS, EVENTS };\n","export const DESTINATIONS = [\n  {\n    id: 'ams',\n    name: 'Amsterdam',\n    description: 'Столица Нидерландов с живописными каналами, сотнями велосипедов и богатой культурной жизнью. Обязательно посетите музей Ван Гога и квартал Йордан.',\n    pictures: [\n      {\n        src: 'https://loremflickr.com/248/152/amsterdam,canal?random=1',\n        description: 'Каналы Амстердама в солнечный день'\n      },\n      {\n        src: 'https://loremflickr.com/248/152/amsterdam,bikes?random=2',\n        description: 'Велосипеды - главный транспорт Амстердама'\n      }\n    ]\n  },\n  {\n    id: 'gva',\n    name: 'Geneva',\n    description: 'Элегантный швейцарский город на берегу Женевского озера, известный своими банками, шоколадом и знаменитым фонтаном Же-д’О.',\n    pictures: [\n      {\n        src: 'https://loremflickr.com/248/152/geneva,lake?random=3',\n        description: 'Женевское озеро с видом на Альпы'\n      },\n      {\n        src: 'https://loremflickr.com/248/152/geneva,fountain?random=4',\n        description: 'Знаменитый фонтан Же-д’О'\n      }\n    ]\n  },\n  {\n    id: 'chx',\n    name: 'Chamonix',\n    description: 'Легендарный горнолыжный курорт у подножия Монблана - самой высокой вершины Альп. Идеальное место для любителей активного отдыха.',\n    pictures: [\n      {\n        src: 'https://loremflickr.com/248/152/chamonix,mountain?random=5',\n        description: 'Вид на заснеженные вершины Монблана'\n      },\n      {\n        src: 'https://loremflickr.com/248/152/chamonix,ski?random=6',\n        description: 'Горнолыжные трассы Шамони'\n      }\n    ]\n  },\n  {\n    id: 'ber',\n    name: 'Berlin',\n    description: 'Столица Германии, где современность встречается с историей. От Бранденбургских ворот до стрит-арта в районе Кройцберг.',\n    pictures: [\n      {\n        src: 'https://loremflickr.com/248/152/berlin,wall?random=7',\n        description: 'Остатки Берлинской стены'\n      },\n      {\n        src: 'https://loremflickr.com/248/152/berlin,brandenburg?random=8',\n        description: 'Бранденбургские ворота ночью'\n      }\n    ]\n  },\n  {\n    id: 'rom',\n    name: 'Rome',\n    description: 'Вечный город с богатой историей, где на каждом шагу встречаются древние руины, барочные фонтаны и вкуснейшая итальянская кухня.',\n    pictures: [\n      {\n        src: 'https://loremflickr.com/248/152/rome,colosseum?random=9',\n        description: 'Колизей - символ Рима'\n      },\n      {\n        src: 'https://loremflickr.com/248/152/rome,pasta?random=10',\n        description: 'Традиционная римская паста'\n      }\n    ]\n  },\n  {\n    id: 'par',\n    name: 'Paris',\n    description: 'Город любви и света, известный Эйфелевой башней, Лувром и уютными кафе на Монмартре. Не забудьте попробовать круассаны!',\n    pictures: [\n      {\n        src: 'https://loremflickr.com/248/152/paris,eiffel?random=11',\n        description: 'Эйфелева башня в лучах заката'\n      },\n      {\n        src: 'https://loremflickr.com/248/152/paris,croissant?random=12',\n        description: 'Свежие круассаны в парижской пекарне'\n      }\n    ]\n  }\n];\n\nexport const generateDestinations = () => {\n  const cities = [\n    {\n      name: 'Amsterdam',\n      keywords: ['canal', 'bikes', 'museum']\n    },\n    {\n      name: 'Geneva',\n      keywords: ['lake', 'fountain', 'chocolate']\n    },\n    {\n      name: 'Chamonix',\n      keywords: ['mountain', 'ski', 'alps']\n    },\n    {\n      name: 'Berlin',\n      keywords: ['wall', 'brandenburg', 'modern']\n    },\n    {\n      name: 'Rome',\n      keywords: ['colosseum', 'pasta', 'history']\n    },\n    {\n      name: 'Paris',\n      keywords: ['eiffel', 'croissant', 'louvre']\n    }\n  ];\n\n  return cities.map((city, index) => ({\n    id: `city-${index + 1}`,\n    name: city.name,\n    description: getCityDescription(city.name),\n    pictures: Array.from({ length: 3 }, (_, i) => ({\n      src: `https://loremflickr.com/248/152/${city.name.toLowerCase()},${city.keywords[i]}?random=${index}${i}`,\n      description: getPhotoDescription(city.name, city.keywords[i])\n    }))\n  }));\n};\n\nfunction getCityDescription(cityName) {\n  const descriptions = {\n    'Amsterdam': 'Город каналов и свободы, где каждый найдет что-то по душе - от музеев до ночных клубов.',\n    'Geneva': 'Строгая элегантность Швейцарии в сочетании с живописными видами на озеро и горы.',\n    'Chamonix': 'Рай для альпинистов и лыжников с потрясающими горными пейзажами.',\n    'Berlin': 'Контрастный город, где бурная ночная жизнь соседствует с памятниками истории.',\n    'Rome': 'Каждый камень здесь дышит историей, а воздух пропитан ароматом свежей пасты.',\n    'Paris': 'Романтичная столица Франции, где искусство встречается с гастрономией.'\n  };\n  return descriptions[cityName] || `${cityName} — прекрасный город для путешествий.`;\n}\n\nfunction getPhotoDescription(cityName, keyword) {\n  const keywords = {\n    'canal': 'Живописный канал в центре города',\n    'bikes': 'Типичная улица с велосипедами',\n    'museum': 'Один из знаменитых музеев',\n    'lake': 'Вид на озеро с набережной',\n    'fountain': 'Знаменитый городской фонтан',\n    'chocolate': 'Местные шоколадные деликатесы',\n    'mountain': 'Величественные горные вершины',\n    'ski': 'Горнолыжные трассы курорта',\n    'alps': 'Панорама Альпийских гор',\n    'wall': 'Исторический памятник архитектуры',\n    'brandenburg': 'Символ города - Бранденбургские ворота',\n    'modern': 'Современный архитектурный ансамбль',\n    'colosseum': 'Древний амфитеатр - свидетель истории',\n    'pasta': 'Традиционное итальянское блюдо',\n    'history': 'Улицы, хранящие многовековую историю',\n    'eiffel': 'Главная достопримечательность города',\n    'croissant': 'Свежая выпечка в местной булочной',\n    'louvre': 'Знаменитый музей искусств'\n  };\n  return `${cityName}: ${keywords[keyword] || 'Красивый вид города'}`;\n}\n","export const EVENTS = [\n  {\n    id: '1',\n    type: 'taxi',\n    destination: 'ams',\n     dateFrom: '2024-06-10T10:00:00', \n    dateTo: '2024-06-10T11:00:00',  \n    basePrice: 50,\n    offers: [1],\n    isFavorite: false\n  },\n  {\n    id: '2',\n    type: 'flight',\n    destination: 'gva',\n     dateFrom: '2024-06-10T10:00:00', \n    dateTo: '2024-06-10T11:00:00',  \n    basePrice: 200,\n    offers: [1, 2],\n    isFavorite: true\n  },\n  {\n    id: '3',\n    type: 'drive',\n    destination: 'chx',\n     dateFrom: '2024-06-10T10:00:00', \n    dateTo: '2024-06-10T11:00:00',  \n    basePrice: 300,\n    offers: [2],\n    isFavorite: false\n  }\n];\nimport { generateRandomDate } from '../utils/date.js';\n\nexport const generateEvents = (count, destinations) => {\n  const types = ['taxi', 'bus', 'train', 'ship', 'drive', 'flight', 'check-in', 'sightseeing', 'restaurant'];\n  \n  return Array.from({ length: count }, (_, i) => {\n    const dateFrom = generateRandomDate();\n    const dateTo = new Date(dateFrom.getTime() + Math.random() * 48 * 60 * 60 * 1000);\n    \n    return {\n      id: i + 1,\n      type: types[Math.floor(Math.random() * types.length)],\n      destination: destinations[Math.floor(Math.random() * destinations.length)].id,\n      dateFrom: dateFrom.toISOString(),\n      dateTo: dateTo.toISOString(),\n      basePrice: Math.floor(Math.random() * 500) + 50, \n      offers: Array.from({ length: Math.floor(Math.random() * 3) }, (_, j) => j + 1), \n      isFavorite: Math.random() > 0.7 \n    };\n  });\n};","import TripPresenter from './presenter/trip-presenter';\nimport EventsModel from './model/events-model';\nimport DestinationsModel from './model/destinations-model';\nimport OffersModel from './model/offers-model';\nimport { DESTINATIONS, OFFERS, EVENTS } from './mock';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const tripMainContainer = document.querySelector('.trip-main');\n  const tripEventsContainer = document.querySelector('.trip-events');\n  EVENTS.forEach((event) => {\n    if (!DESTINATIONS.some((d) => d.id === event.destination)) {\n      console.error(`Event ${event.id} has invalid destination: ${event.destination}`);\n    }\n  });\n  EVENTS.forEach((event) => {\n    const typeOffers = OFFERS.find((o) => o.type === event.type)?.offers || [];\n    event.offers.forEach((offerId) => {\n      if (!typeOffers.some((o) => o.id === offerId)) {\n        console.error(`Event ${event.id} has invalid offer ID: ${offerId}`);\n      }\n    });\n  });\n  if (!tripMainContainer || !tripEventsContainer) {\n    console.error('Ошибка: не найдены необходимые контейнеры');\n    console.log('tripMainContainer:', tripMainContainer);\n    console.log('tripEventsContainer:', tripEventsContainer);\n    return;\n  }\n  const destinationsModel = new DestinationsModel();\n  const offersModel = new OffersModel();\n  const eventsModel = new EventsModel();\n  console.log('Models:', { destinationsModel, offersModel, eventsModel });\n  try {\n    destinationsModel.setDestinations(DESTINATIONS);\n    offersModel.setOffers(OFFERS);\n    eventsModel.setEvents(EVENTS);\n\n    eventsModel.setDestinationsModel(destinationsModel);\n    eventsModel.setOffersModel(offersModel);\n  } catch (error) {\n    console.error('Ошибка при загрузке данных:', error);\n    return;\n  }\n  console.log('Проверка данных перед инициализацией:');\n  console.log('Destinations:', destinationsModel.getDestinations());\n  console.log('Offers:', offersModel.getOffers());\n  console.log('Events:', eventsModel.getEvents());\n  try {\n    const tripPresenter = new TripPresenter(\n      {\n        eventsContainer: tripEventsContainer,\n        mainContainer: tripMainContainer\n      },\n      eventsModel,\n      destinationsModel,\n      offersModel\n    );\n    tripPresenter.init();\n    console.log('Презентер успешно инициализирован');\n  } catch (error) {\n    console.error('Ошибка при инициализации презентера:', error);\n  }\n\n});\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","exports","cssWithMappingToString","list","toString","this","map","item","content","needLayer","concat","length","join","i","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","k","_k","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","stylesInDOM","getIndexByIdentifier","identifier","result","modulesToDom","options","idCountMap","identifiers","base","count","indexByIdentifier","obj","css","sourceMap","references","updater","addElementStyle","byIndex","splice","api","domAPI","update","newObj","remove","lastIdentifiers","newList","index","newLastIdentifiers","_i","_index","memo","insert","style","target","styleTarget","document","querySelector","window","HTMLIFrameElement","contentDocument","head","e","getTarget","Error","appendChild","element","createElement","setAttributes","attributes","styleElement","nonce","setAttribute","insertStyleElement","styleTagTransform","apply","parentNode","removeChild","removeStyleElement","styleSheet","cssText","firstChild","createTextNode","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","prop","prototype","hasOwnProperty","call","nc","SHAKE_CLASS_NAME","AbstractView","constructor","template","newElement","innerHTML","firstElementChild","removeElement","shake","callback","classList","add","setTimeout","FiltersView","filters","currentFilter","super","_filters","_currentFilter","filter","type","name","SortView","currentSortType","_currentSortType","_callback","entries","SortType","_ref","setSortTypeChangeHandler","sortTypeChange","addEventListener","evt","tagName","preventDefault","sortType","dataset","DAY","TIME","PRICE","AbstractStatefulView","_state","updateElement","_setState","_restoreHandlers","structuredClone","prevElement","parent","parentElement","replaceChild","EVENT_TYPES","DEFAULT_EVENT","destination","dateFrom","Date","dateTo","now","basePrice","offers","isFavorite","parseDate","dateInput","isNaN","getTime","date","formatDate","toLocaleDateString","month","day","console","error","formatTime","toLocaleTimeString","hour","minute","EventEditView","event","arguments","destinationsModel","offersModel","parseEventToState","_destinationsModel","_offersModel","submit","close","delete","isDisabled","isSaving","isDeleting","parseStateToEvent","state","destinationData","getDestinationById","typeOffers","getOffersByType","eventType","getDestinations","offer","includes","title","price","description","pictures","pic","src","querySelectorAll","forEach","input","value","parseInt","offerId","eventData","alert","destinationName","find","dest","stopPropagation","removeEventListener","setCloseHandler","setSubmitHandler","setDeleteHandler","TripInfoView","events","destinations","_events","_destinations","_offers","sortedEvents","sort","b","startDate","endDate","uniqueCities","Set","getCityById","Boolean","getTripTitle","formatDateRange","start","end","startStr","endStr","reduce","total","eventTypeOffers","selectedOffersPrice","sum","calculateTotalPrice","NewEventButtonView","onClick","_onClick","_isDisabled","_clickHandler","setDisabled","disabled","EmptyListView","filterType","_filterType","everything","future","past","present","EventView","onEditClick","onFavoriteClick","rollupClick","favoriteClick","selectedOffers","toISOString","calculateDuration","dateFromInput","dateToInput","diff","days","Math","floor","hours","minutes","rollupBtn","favoriteBtn","setFavoriteClickHandler","setRollupClickHandler","setEditClickHandler","editClick","render","component","container","place","insertAdjacentElement","replace","newComponent","oldComponent","EventPresenter","onDataChange","onModeChange","init","prevEventComponent","prevEventEditComponent","destroy","resetView","#replaceEventToForm","currentEventElement","replaceWith","#replaceFormToEvent","newEventComponent","#handleEditClick","isEditFormOpen","updatedEvent","fullUpdatedEvent","eventId","#handleCloseClick","TripPresenter","Map","containers","eventsModel","eventsContainer","mainContainer","log","getEvents","getOffers","eventsListElement","eventPresenter","set","filtersContainer","getFutureEvents","getPastEvents","sortContainer","presenter","clear","getEventsSortedByTime","getEventsSortedByPrice","getEventsSortedByDay","_this","deleteEvent","updateEvent","#handleModeChange","#handleNewEventClick","newEvent","addEvent","prepend","#closeNewEventForm","EventsModel","setEvents","setDestinationsModel","model","setOffersModel","warn","getPresentEvents","durationA","DestinationsModel","setDestinations","OffersModel","offerGroup","setOffers","DESTINATIONS","keywords","city","cityName","Array","from","_","toLowerCase","keyword","OFFERS","taxi","bus","train","ship","drive","flight","sightseeing","restaurant","titles","random","EVENTS","generateEvents","types","generateRandomDate","pastDate","futureDate","j","tripMainContainer","tripEventsContainer","some"],"sourceRoot":""}